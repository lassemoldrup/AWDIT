\begin{figure}[h!]
    \def\scaleboxvalue{0.85}
    \def\plotheight{5cm}
    \def\markersize{2.25}

    \pgfplotsset{ScalabilityStyle/.style={
            inner sep=1pt,
            mark size=\markersize,
            height=\plotheight,
            legend style={legend pos=north west, draw=black, legend columns=6, legend cell align={left}, font=\small},
            legend style={/tikz/every even column/.append style={column sep=0.5cm}},
            ylabel={Time (s)},
            log basis x={2},
            %    xtick distance = 4,
            %    ytick distance=10,
            xlabel style={font=\normalfont},
            ylabel style={font=\normalfont},
            ylabel near ticks,
            xlabel near ticks,
            xticklabel style={font=\small},
            yticklabel style={font=\small},
            grid style=dashed,
            grid=both,
            xminorgrids=false,
            yminorgrids=false,
        legend to name=named}
    }
    \def\lineWidth{1}

    \pgfplotsset{
        discard if not/.style 2 args={
            x filter/.append code={
                \edef\tempa{\thisrow{#1}}
                \edef\tempb{#2}
                \ifx\tempa\tempb
                \else
                \def\pgfmathresult{inf}
                \fi
            }
        }
    }

    \def\script{twitter}
    \def\database{cockroachdb}

    \scalebox{\scaleboxvalue}{%
        \begin{tikzpicture}[tight background, inner sep=0pt]
            \begin{groupplot}[
                    group style={group size= 3 by 1, horizontal sep=1.6cm} ,
                ]

                \nextgroupplot[ScalabilityStyle, xlabel={transactions}, xtick distance=25e3, ytick distance=1, every x tick scale label/.style={at={(1,0)},xshift=1pt,anchor=south west,inner sep=0pt}, title=Time vs transactions]
                \addplot[color=RoyalBlue, mark=*] table [x=txns, y=ours_rc (s), col sep=comma,] {data/fig9-txn\isExpected.csv};
                \addplot[color=Red, mark=pentagon* ] table [x=txns, y=ours_ra (s), col sep=comma,] {data/fig9-txn\isExpected.csv};
                \addplot[color=Green, mark=square* ] table [x=txns, y=ours_cc (s), col sep=comma,] {data/fig9-txn\isExpected.csv};

                \coordinate (top) at (rel axis cs:0,1);% coordinate at top of the first plot

                \nextgroupplot[ScalabilityStyle, xlabel={sessions}, xtick distance=25, ytick distance=0.25, title=Time vs sessions]
                \addplot[color=RoyalBlue, mark=*] table [x=sessions, y=ours_rc (s), col sep=comma,] {data/fig9-sess\isExpected.csv};
                \addplot[color=Red, mark=pentagon* ] table [x=sessions, y=ours_ra (s), col sep=comma,] {data/fig9-sess\isExpected.csv};
                \addplot[color=Green, mark=square* ] table [x=sessions, y=ours_cc (s), col sep=comma,] {data/fig9-sess\isExpected.csv};

                \nextgroupplot[ScalabilityStyle, xlabel={transaction size}, xtick distance=25, ytick distance=1,  title=Time vs transaction size]
                \addplot[color=RoyalBlue, mark=*] table [x=ops_per_txn, y=ours_rc (s), col sep=comma,] {data/fig9-ops\isExpected.csv};
                \addplot[color=Red, mark=pentagon* ] table [x=ops_per_txn, y=ours_ra (s), col sep=comma,] {data/fig9-ops\isExpected.csv};
                \addplot[color=Green, mark=square* ] table [x=ops_per_txn, y=ours_cc (s), col sep=comma,] {data/fig9-ops\isExpected.csv};

                \coordinate (bot) at (rel axis cs:1,0);% coordinate at bottom of the last plot

                \legend{$\RC$, $\RA$, $\CC$}

            \end{groupplot}
            \path (top)--(bot) coordinate[midway] (group center);
            \node[inner sep=0pt, below=0.15em] at (group center |- current bounding box.south) {\pgfplotslegendfromname{named}};
        \end{tikzpicture}
    }
    \caption{\label{fig:scalability_awdit} Figure 9 from the paper.}
\end{figure}