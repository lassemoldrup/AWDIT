\begin{figure}[h!]
    \def\scaleboxvalue{0.85}
    \def\plotheight{5cm}
    \def\markersize{2.25}

    \pgfplotsset{AllToolsStyle/.style={
            inner sep=1pt,
            title={\large Time (s)},
            mark size=\markersize,
            height=\plotheight,
            legend style={legend pos=north west, draw=black, legend columns=6, legend cell align={left}, font=\small},
            legend style={/tikz/every even column/.append style={column sep=0.5cm}},
            xlabel={txns},
            ylabel={Time (s)},
            xmin={800},
            ymax={600},
            log basis x={2},
            xtick distance = 4,
            xlabel style={font=\normalfont},
            ylabel style={font=\normalfont},
            ylabel near ticks,
            xlabel near ticks,
            xticklabel style={font=\small},
            yticklabel style={font=\small},
            grid style=dashed,
            grid=both,
        legend to name=named}
    }
    \def\lineWidth{1}

    \pgfplotsset{
        discard if not/.style 2 args={
            x filter/.code={
                \edef\tempa{\thisrow{#1}}
                \edef\tempb{#2}
                \ifx\tempa\tempb
                \else
                \def\pgfmathresult{inf}
                \fi
            }
        }
    }
    \scalebox{\scaleboxvalue}{%
        \begin{tikzpicture}[tight background, inner sep=0pt]
            \begin{groupplot}[
                    group style={group size= 3 by 1, horizontal sep=1.4cm} ,
                ]

                \def\benchmark{rubis}

                \nextgroupplot[AllToolsStyle, xmode=log, title=RUBiS]

                \addplot[color=RoyalBlue, line width=\lineWidth, mark=* ] table [x=txns, y=ours (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Red, line width=\lineWidth, mark=diamond* ] table [x=txns, y=plume (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=YellowOrange, line width=\lineWidth, mark=triangle* ] table [x=txns, y=dbcop (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Thistle, line width=\lineWidth, mark=pentagon* ] table [x=txns, y=causalc+ (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Bittersweet, line width=\lineWidth, mark=halfsquare* ] table [x=txns, y=mono (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Green, line width=\lineWidth, mark=square* ] table [x=txns, y=polysi (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \coordinate (top) at (rel axis cs:0,1);% coordinate at top of the first plot

                \def\benchmark{twitter}
                \nextgroupplot[AllToolsStyle, xmode=log, title=C-Twitter]

                \addplot[color=RoyalBlue, line width=\lineWidth, mark=* ] table [x=txns, y=ours (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Red, line width=\lineWidth, mark=diamond* ] table [x=txns, y=plume (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=YellowOrange, line width=\lineWidth, mark=triangle* ] table [x=txns, y=dbcop (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Thistle, line width=\lineWidth, mark=pentagon* ] table [x=txns, y=causalc+ (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Bittersweet, line width=\lineWidth, mark=halfsquare* ] table [x=txns, y=mono (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Green, line width=\lineWidth, mark=square* ] table [x=txns, y=polysi (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \def\benchmark{tpcc}
                \nextgroupplot[AllToolsStyle, xmode=log, xmin={1200}, title=TPC-C]

                \addplot[color=RoyalBlue, line width=\lineWidth, mark=* ] table [x=txns, y=ours (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Red, line width=\lineWidth, mark=diamond* ] table [x=txns, y=plume (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=YellowOrange, line width=\lineWidth, mark=triangle* ] table [x=txns, y=dbcop (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Thistle, line width=\lineWidth, mark=pentagon* ] table [x=txns, y=causalc+ (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Bittersweet, line width=\lineWidth, mark=halfsquare* ] table [x=txns, y=mono (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \addplot[color=Green, line width=\lineWidth, mark=square* ] table [x=txns, y=polysi (s), col sep=comma,] {data/fig7-\benchmark-expected.csv};

                \coordinate (bot) at (rel axis cs:1,0);% coordinate at bottom of the last plot

                \legend{$\ToolName$, Plume, CausalC+, DBCop, TCC-Mono, PolySI }

            \end{groupplot}
            \path (top)--(bot) coordinate[midway] (group center);
            \node[inner sep=0pt, below=0.15em] at (group center |- current bounding box.south) {\pgfplotslegendfromname{named}};
        \end{tikzpicture}
    }
    \caption{\label{fig:all_tools_small} Figure 7 from the paper.
    }
\end{figure}